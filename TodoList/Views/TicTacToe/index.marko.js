// Compiled using marko@4.2.8 - DO NOT EDIT
"use strict";

var marko_template = module.exports = require("marko/html").t(__filename),
    marko_helpers = require("marko/runtime/html/helpers"),
    marko_loadTag = marko_helpers.t,
    init_components_tag = marko_loadTag(require("marko/components/taglib/init-components-tag")),
    await_reorderer_tag = marko_loadTag(require("marko/taglibs/async/await-reorderer-tag"));

function render(input, out) {
  var data = input;

  out.w("<!doctype html><html><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"./Beispiel:SELFHTML-Beispiel-Grundlayout.css\"><title>Tic-Tac-Toe</title><style>\r\n.tic-tac-toe table {\r\n\tborder: 2px solid black;\r\n\tborder-collapse: collapse;\r\n}\r\n \r\n.tic-tac-toe td {\r\n\tborder: 1px solid black;\r\n\theight: 5em;\r\n\tposition: relative;\r\n\ttext-align: center;\r\n\twidth: 5em;\r\n}\r\n \r\n.tic-tac-toe table:not(.game-over) td {\r\n\tcursor: pointer;\r\n}\r\n \r\n.tic-tac-toe td button {\r\n\tposition: absolute;\r\n\tleft: -100vw;\r\n}\r\n \r\n.tic-tac-toe .o {\r\n\tbackground: #8f8;\r\n\tcolor: #8f8;\r\n}\r\n \r\n.tic-tac-toe .x {\r\n\tbackground: #f88;\r\n\tcolor: #f88;\r\n}\r\n \r\n.tic-tac-toe .o,\r\n.tic-tac-toe .x {\r\n\tz-index: -1;\r\n}\r\n \r\n.tic-tac-toe .o::after,\r\n.tic-tac-toe .x::after {\r\n\tcolor: black;\r\n\tdisplay: block;\r\n\tfont-size: 5em;\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n}\r\n \r\n.tic-tac-toe .o::after {\r\n\tcontent: \"○\";\r\n\ttop: -0.2em;\r\n}\r\n \r\n.tic-tac-toe .x::after {\r\n\tcontent: \"×\";\r\n\ttop: -0.125em;\r\n}\r\n \r\n.tic-tac-toe .o.highlighted::after,\r\n.tic-tac-toe .x.highlighted::after {\r\n\ttext-shadow:\r\n\t\t0 0 1px #fff,\r\n\t\t0 0 2px #fff,\r\n\t\t0 0 3px #fff,\r\n\t\t0 0 4px white,\r\n\t\t0 0 5px white,\r\n\t\t0 0 6px white,\r\n\t\t0 0 7px white;\r\n}\r\n \r\n.tic-tac-toe .game-over {\r\n\tborder-color: red;\r\n}\r\n\t\t</style><script>\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n \r\n\tfunction TicTacToe (element) {\r\n\t\tvar current = 0,\r\n\t\t\tplayers = [ \"x\", \"o\" ],\r\n\t\t\tfield = document.createElement(\"table\"),\r\n\t\t\tcaption = document.createElement(\"caption\"),\r\n\t\t\tlabels = [\r\n\t\t\t\t[\"oben links\", \"oben mittig\", \"oben rechts\"],\r\n\t\t\t\t[\"Mitte links\", \"Mitte mittig\", \"Mitte rechts\"],\r\n\t\t\t\t[\"unten links\", \"unten mittig\", \"unten rechts\"]\r\n\t\t\t],\r\n\t\t\tmessages = {\r\n\t\t\t\t\"o's-turn\": \"Spieler O ist am Zug.\",\r\n\t\t\t\t\"x's-turn\": \"Spieler X ist am Zug.\",\r\n\t\t\t\t\"o-wins\": \"Spieler O gewinnt.\",\r\n\t\t\t\t\"x-wins\": \"Spieler X gewinnt.\",\r\n\t\t\t\t\"draw\": \"Das Spiel endet unentschieden.\",\r\n\t\t\t\t\"instructions\": \"Zum Spielen bitte abwechselnd in die Spielfelder klicken/tappen!\",\r\n\t\t\t\t\"select\": \"wählen\",\r\n\t\t\t\t\"new game?\": \"Neues Spiel?\"\r\n\t\t\t},\r\n\t\t\tfinished, games, b, c, i, r, tr;\r\n \r\n\t\tfunction check () {\r\n\t\t\tvar tds = field.getElementsByTagName(\"td\"),\r\n\t\t\t\tfull = true,\r\n\t\t\t\tbuttons, i, winner;\r\n \r\n\t\t\ttds = field.getElementsByTagName(\"td\");\r\n \r\n\t\t\t// alle Felder markiert?\r\n\t\t\tfor (i = 0; i < tds.length; i++) {\r\n \r\n\t\t\t\tif (tds[i].className == \"\") {\r\n\t\t\t\t\tfull = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n \r\n\t\t\t// Gewinner ermitteln\r\n\t\t\tfor (i = 0; i < 3; i++) {\r\n \r\n\t\t\t\t// senkrecht\r\n\t\t\t\tif (tds[0 + i].className != \"\"\r\n\t\t\t\t\t&& tds[0 + i].className == tds[3 + i].className\r\n\t\t\t\t\t&& tds[3 + i].className == tds[6 + i].className\r\n\t\t\t\t) {\r\n\t\t\t\t\t// we have a winner!\r\n\t\t\t\t\twinner = tds[0 + i].className;\r\n \r\n\t\t\t\t\thighlightCells([\r\n\t\t\t\t\t\ttds[i], tds[3 + i], tds[6 + i]\r\n\t\t\t\t\t]);\r\n\t\t\t\t}\r\n \r\n\t\t\t\t// waagrecht\r\n\t\t\t\tif (tds[i*3 + 0].className != \"\"\r\n\t\t\t\t\t&& tds[i*3 + 0].className == tds[i*3 + 1].className\r\n\t\t\t\t\t&& tds[i*3 + 1].className == tds[i*3 + 2].className\r\n\t\t\t\t) {\r\n\t\t\t\t\t// we have a winner!\r\n\t\t\t\t\twinner = tds[i*3].className;\r\n \r\n\t\t\t\t\thighlightCells([\r\n\t\t\t\t\t\ttds[i*3], tds[i*3 + 1], tds[i*3 + 2]\r\n\t\t\t\t\t]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n \r\n\t\t\t// diagonal links oben nach rechts unten\r\n\t\t\tif (tds[0].className != \"\"\r\n\t\t\t\t&& tds[0].className == tds[4].className\r\n\t\t\t\t&& tds[4].className == tds[8].className\r\n\t\t\t) {\r\n\t\t\t\twinner = tds[0].className;\r\n \r\n\t\t\t\thighlightCells([\r\n\t\t\t\t\ttds[0], tds[4], tds[8]\r\n\t\t\t\t]);\r\n\t\t\t}\r\n \r\n\t\t\t// diagonal rechts oben nach links unten\r\n\t\t\tif (tds[2].className != \"\"\r\n\t\t\t\t&& tds[2].className == tds[4].className\r\n\t\t\t\t&& tds[4].className == tds[6].className\r\n\t\t\t) {\r\n\t\t\t\twinner = tds[2].className;\r\n \r\n\t\t\t\thighlightCells([\r\n\t\t\t\t\ttds[2], tds[4], tds[6]\r\n\t\t\t\t]);\r\n\t\t\t}\r\n \r\n\t\t\t// game over?\r\n\t\t\tif (full || winner) {\r\n \r\n\t\t\t\tfinished = true;\r\n \r\n\t\t\t\tfield.className = \"game-over\";\r\n \r\n\t\t\t\tif (winner) {\r\n \r\n\t\t\t\t\tcaption.innerHTML = messages[\r\n\t\t\t\t\t\tplayers[current] + \"-wins\"\r\n\t\t\t\t\t];\r\n \r\n\t\t\t\t} else {\r\n \r\n\t\t\t\t\tcaption.innerHTML = messages[\"draw\"];\r\n\t\t\t\t}\r\n \r\n\t\t\t\t// restliche Buttons entfernen\r\n\t\t\t\tbuttons = field.getElementsByTagName(\"button\");\r\n \r\n\t\t\t\twhile (buttons.length) {\r\n\t\t\t\t\tbuttons[0].parentNode.removeChild(buttons[0]);\r\n\t\t\t\t}\r\n \r\n\t\t\t\t// new game?\r\n\t\t\t\tbuttons = document.createElement(\"button\");\r\n\t\t\t\tbuttons.innerHTML = messages[\"new game?\"];\r\n \r\n\t\t\t\tcaption.appendChild(document.createTextNode(\" \"));\r\n\t\t\t\tcaption.appendChild(buttons);\r\n \r\n\t\t\t\tbuttons.addEventListener(\"click\", function (event) {\r\n\t\t\t\t\tvar cells = field.getElementsByTagName(\"td\"),\r\n\t\t\t\t\t\tbutton, cell;\r\n \r\n\t\t\t\t\t// reset game\r\n\t\t\t\t\tcurrent = 0;\r\n\t\t\t\t\tfinished = false;\r\n\t\t\t\t\tfield.removeAttribute(\"class\");\r\n \r\n\t\t\t\t\tfor (r = 0; r < 3; r++) {\r\n\t\t\t\t\t\tfor (c = 0; c < 3; c++) {\r\n\t\t\t\t\t\t\t// reset cell\r\n\t\t\t\t\t\t\tcell = cells[r * 3 + c];\r\n\t\t\t\t\t\t\tcell.removeAttribute(\"class\");\r\n\t\t\t\t\t\t\tcell.innerHTML = \"\";\r\n \r\n\t\t\t\t\t\t\t// re-insert button\r\n\t\t\t\t\t\t\tbutton = document.createElement(\"button\");\r\n\t\t\t\t\t\t\tbutton.innerHTML = labels[r][c] + \" \" + messages[\"select\"];\r\n \r\n\t\t\t\t\t\t\tcell.appendChild(button);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n \r\n\t\t\t\t\t// Hinweis einrichten\r\n\t\t\t\t\tcaption.innerHTML = messages[\r\n\t\t\t\t\t\tplayers[current] + \"'s-turn\"\r\n\t\t\t\t\t];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n \r\n\t\tfunction highlightCells (cells) {\r\n\t\t\tcells.forEach(function (node) {\r\n\t\t\t\tvar el = document.createElement(\"strong\");\r\n \r\n\t\t\t\tel.innerHTML = node.innerHTML;\r\n \r\n\t\t\t\tnode.innerHTML = \"\";\r\n\t\t\t\tnode.appendChild(el);\r\n\t\t\t\tnode.classList.add(\"highlighted\");\r\n\t\t\t});\r\n\t\t}\r\n \r\n\t\t// click / tap verarbeiten\r\n\t\tfunction mark (event) {\r\n\t\t\t// Tabellenzelle bestimmen\r\n\t\t\tvar td = event.target;\r\n \r\n\t\t\t// Button oder Zelle?\r\n\t\t\twhile (td.tagName.toLowerCase() != \"td\"\r\n\t\t\t\t&& td != field\r\n\t\t\t) {\r\n\t\t\t\ttd = td.parentNode;\r\n\t\t\t}\r\n \r\n\t\t\t// Zelle bei Bedarf markieren\r\n\t\t\tif (!finished\r\n\t\t\t\t&& td.tagName.toLowerCase() == \"td\"\r\n\t\t\t\t&& td.className.length < 1\r\n\t\t\t) {\r\n \r\n\t\t\t\ttd.className = players[current]; // Klassennamen vergeben\r\n\t\t\t\ttd.innerHTML = players[current];\r\n \r\n\t\t\t\tcheck(); // Spiel zuende?\r\n \r\n\t\t\t\tif (!finished) {\r\n \r\n\t\t\t\t\tcurrent = 1 - current; // zwischen 0 und 1 hin- und herschalten\r\n \r\n\t\t\t\t\t// Hinweis aktualisieren\r\n\t\t\t\t\tcaption.innerHTML = messages[\r\n\t\t\t\t\t\tplayers[current] + \"'s-turn\"\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n \r\n\t\t// Spielanleitung ins Dokument einfügen\r\n\t\tb = document.createElement(\"p\");\r\n\t\tb.innerHTML = messages[\"instructions\"];\r\n\t\telement.appendChild(b);\r\n \r\n\t\t// Tabelle ins Dokument einfügen\r\n\t\telement.appendChild(field);\r\n \r\n\t\t// Tabelle aufbauen\r\n\t\tfield.appendChild(caption); // Beschriftung\r\n\t\tfield.appendChild(document.createElement(\"tbody\"));\r\n \r\n\t\t// Hinweis einrichten\r\n\t\tcaption.innerHTML = messages[\r\n\t\t\tplayers[current] + \"'s-turn\"\r\n\t\t];\r\n \r\n\t\tfor (r = 0; r < 3; r++) {\r\n\t\t\t// neue Tabellenzeile\r\n\t\t\ttr = document.createElement(\"tr\");\r\n \r\n\t\t\tfield.lastChild.appendChild(tr);\r\n \r\n\t\t\tfor (c = 0; c < 3; c++) {\r\n\t\t\t\t// neue Tabellenzelle\r\n\t\t\t\ttr.appendChild(document.createElement(\"td\"));\r\n \r\n\t\t\t\t// Klickbutton\r\n\t\t\t\tb = document.createElement(\"button\");\r\n\t\t\t\tb.innerHTML = labels[r][c] + \" \" + messages[\"select\"];\r\n \r\n\t\t\t\ttr.lastChild.appendChild(b);\r\n\t\t\t}\r\n\t\t}\r\n \r\n\t\t// Ereignis bei Tabelle überwachen\r\n\t\tfield.addEventListener(\"click\", mark);\r\n\t}\r\n \r\n\t// finde alle Spiel-Platzhalter\r\n\tgames = document.querySelectorAll(\".tic-tac-toe\");\r\n \r\n\tfor (i = 0; i < games.length; i++) {\r\n\t\tTicTacToe(games[i]); // aktuelles Fundstück steht in games[i]\r\n\t}\r\n});\r\n\t\t</script></head><body><h1>Tic-Tac-Toe</h1><div class=\"tic-tac-toe\"></div>");

  init_components_tag({}, out);

  await_reorderer_tag({}, out);

  out.w("</body></html>");
}

marko_template._ = render;

marko_template.meta = {
    tags: [
      "marko/components/taglib/init-components-tag",
      "marko/taglibs/async/await-reorderer-tag"
    ]
  };
